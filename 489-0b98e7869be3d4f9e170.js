"use strict";(self.webpackChunkwebia_front=self.webpackChunkwebia_front||[]).push([[489],{6489:function(e,t,a){a.r(t),a.d(t,{default:function(){return B}});var n=a(338),l=a(5935),o=a(8195),c=a(6540),r=a(5652),i=a(4759),d=a(3090);const s=(0,c.memo)((e=>{const{products:t=[],isEdit:a=!1,titleSize:n="m",isBox:l=!1,childrenMore:o,editCallback:s,removeCallback:m}=e,u=t.map((e=>c.createElement(d.o,{key:e.id,imageUrl:e.imageUrl,name:e.name,description:e.description,price:"â‚¬"+e.price.toFixed(2),isEdit:a,editCallback:()=>s(e.id),removeCallback:()=>m(e.id)})));return c.createElement(i.a,{title:"Shop",titleSize:n,isBox:l,childrenMore:o},c.createElement("div",{className:r.A.gridList},u))}));var m=a(4664),u=a(8983),E=a(7859),p=a(658),v=a(5715),C=a(7145),g=a(6781);const h=(0,c.memo)((e=>{const{onClose:t,selectedItem:a}=e,{addProductItem:n,editProductItem:l}=(0,c.useContext)(m.g),{0:r,1:i}=(0,c.useState)(a?a.name:""),{0:d,1:s}=(0,c.useState)(a?a.description:""),{0:E,1:p}=(0,c.useState)(a?String(a.price):""),{0:h,1:f}=(0,c.useState)(null==a?void 0:a.imageUrl);return c.createElement("div",{className:o.default.modalBody},c.createElement(C.W,{htmlFor:"newProduct",value:h,onChange:f,variant:"box",label:"Upload product image"}),c.createElement(v.w,{placeholder:"Product name",value:r,onChange:i}),c.createElement(v.w,{placeholder:"Product description",value:d,onChange:s}),c.createElement(v.w,{placeholder:"Product price",type:"number",value:E,onChange:p}),c.createElement("div",{className:o.default.modalButtonContainer},c.createElement(u.S,{text:"Cancel",variant:"outline",size:"l",width:"standard",onClick:t}),c.createElement(u.S,{text:a?"Save changes":"Add product",variant:"action",size:"l",width:"standard",onClick:()=>{if(h){if(a)return l(a.id,{id:a.id,name:r,description:d,price:+E||0,imageUrl:h}),void t();n({id:(0,g.l)(),name:r,description:d,price:+E||0,imageUrl:h}),t()}}})))})),f=(0,c.memo)((e=>{const{className:t,isOpen:a,onClose:n,onOverlay:l,onEscape:o,selectedItem:c}=e,[r,i]=(0,p.e)(!1);return React.createElement(E.a,{className:t,title:c?c.name:"New product",widthSize:"xl",isOpen:a,onClose:n,onOverlay:l,onEscape:o,triggerClosing:r,onTriggerClosing:i},React.createElement(h,{onClose:i,selectedItem:c}))})),S=(0,c.memo)((e=>{const{onClose:t,selectedItem:a}=e,{removeProductItem:n}=(0,c.useContext)(m.g);return c.createElement("div",{className:o.default.modalBody},c.createElement("div",{className:o.default.modalRemoveText},"It will be deleted permanently. But you can always add a new one."),c.createElement("div",{className:o.default.modalButtonContainer+" "+o.default.modalButtonCenter},c.createElement(u.S,{text:"Cancel",variant:"outline",size:"l",width:"standard",onClick:t}),c.createElement(u.S,{text:"Remove",variant:"action",size:"l",width:"standard",onClick:()=>{a&&(n(a.id),t())}})))})),w=(0,c.memo)((e=>{const{className:t,isOpen:a,onClose:n,onOverlay:l,onEscape:o,selectedItem:c}=e,[r,i]=(0,p.e)(!1);return React.createElement(E.a,{className:t,title:"Are you sure that you want to delete product "+(null==c?void 0:c.name)+"?",widthSize:"xs",isOpen:a,onClose:n,onOverlay:l,onEscape:o,triggerClosing:r,onTriggerClosing:i},React.createElement(S,{onClose:i,selectedItem:c}))})),R=(0,c.memo)((()=>{const{data:{isEdit:e,products:t}}=(0,c.useContext)(m.g),{0:a,1:n}=(0,c.useState)(!1),{0:l,1:r}=(0,c.useState)(!1),{0:i,1:d}=(0,c.useState)(void 0),E=()=>{d(void 0),n(!1)},p=()=>{d(void 0),r(!1)};return React.createElement("div",{className:o.default.contentBody},React.createElement("div",{className:o.default.contentContainer},React.createElement(s,{products:t,isEdit:e,titleSize:"l",childrenMore:e&&React.createElement(u.S,{text:"Add product",variant:"action",size:"l",width:"content",onClick:()=>n(!0)}),editCallback:e=>{const a=t.find((t=>t.id===e));a&&(d(a),n(!0))},removeCallback:e=>{const a=t.find((t=>t.id===e));a&&(d(a),r(!0))}})),React.createElement(f,{isOpen:a,onClose:E,onOverlay:E,onEscape:E,selectedItem:i}),React.createElement(w,{isOpen:l,onClose:p,onOverlay:p,onEscape:p,selectedItem:i}))}));var y=a(247),k=a(985),x=a(4646),b=a(7767),I=a(4673);const N=(0,c.memo)((e=>React.createElement(x.A,null,React.createElement(O,e),"."))),O=(0,c.memo)((e=>{const{data:{isPremium:t},setData:a}=(0,c.useContext)(m.g),o=(0,b.Zp)();return(0,c.useEffect)((()=>{a&&a(e)}),[e]),t||o(I.S.MINI_SITE),React.createElement("main",{className:n.default.body},React.createElement(l.Y,null),React.createElement(R,null),React.createElement(y.w,null),React.createElement(k.o,null))}));var z=a(1628);var B=()=>React.createElement(N,z.dataMini)}}]);
//# sourceMappingURL=489-0b98e7869be3d4f9e170.js.map
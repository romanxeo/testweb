"use strict";(self.webpackChunkwebia_front=self.webpackChunkwebia_front||[]).push([[237],{6237:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var n=a(338),l=a(5015),o=a(8195),c=a(6540),r=a(9057),i=a(4664),s=a(8983),d=a(7859),m=a(658),u=a(5715),E=a(7145),v=a(6781);const p=(0,c.memo)((e=>{const{onClose:t,selectedItem:a}=e,{addProductItem:n,editProductItem:l}=(0,c.useContext)(i.g),{0:r,1:d}=(0,c.useState)(a?a.name:""),{0:m,1:p}=(0,c.useState)(a?a.description:""),{0:C,1:g}=(0,c.useState)(a?String(a.price):""),{0:f,1:h}=(0,c.useState)(null==a?void 0:a.imageUrl);return c.createElement("div",{className:o.default.modalBody},c.createElement(E.W,{htmlFor:"newProduct",value:f,onChange:h,variant:"box",label:"Upload product image"}),c.createElement(u.w,{placeholder:"Product name",value:r,onChange:d}),c.createElement(u.w,{placeholder:"Product description",value:m,onChange:p}),c.createElement(u.w,{placeholder:"Product price",type:"number",value:C,onChange:g}),c.createElement("div",{className:o.default.modalButtonContainer},c.createElement(s.S,{text:"Cancel",variant:"outline",size:"l",width:"standard",onClick:t}),c.createElement(s.S,{text:a?"Save changes":"Add product",variant:"action",size:"l",width:"standard",onClick:()=>{if(f){if(a)return l(a.id,{id:a.id,name:r,description:m,price:+C||0,imageUrl:f}),void t();n({id:(0,v.l)(),name:r,description:m,price:+C||0,imageUrl:f}),t()}}})))})),C=(0,c.memo)((e=>{const{className:t,isOpen:a,onClose:n,onOverlay:l,onEscape:o,selectedItem:c}=e,[r,i]=(0,m.e)(!1);return React.createElement(d.a,{className:t,title:c?c.name:"New product",widthSize:"xl",isOpen:a,onClose:n,onOverlay:l,onEscape:o,triggerClosing:r,onTriggerClosing:i},React.createElement(p,{onClose:i,selectedItem:c}))})),g=(0,c.memo)((e=>{const{onClose:t,selectedItem:a}=e,{removeProductItem:n}=(0,c.useContext)(i.g);return c.createElement("div",{className:o.default.modalBody},c.createElement("div",{className:o.default.modalRemoveText},"It will be deleted permanently. But you can always add a new one."),c.createElement("div",{className:o.default.modalButtonContainer+" "+o.default.modalButtonCenter},c.createElement(s.S,{text:"Cancel",variant:"outline",size:"l",width:"standard",onClick:t}),c.createElement(s.S,{text:"Remove",variant:"action",size:"l",width:"standard",onClick:()=>{a&&(n(a.id),t())}})))})),f=(0,c.memo)((e=>{const{className:t,isOpen:a,onClose:n,onOverlay:l,onEscape:o,selectedItem:c}=e,[r,i]=(0,m.e)(!1);return React.createElement(d.a,{className:t,title:"Are you sure that you want to delete product "+(null==c?void 0:c.name)+"?",widthSize:"xs",isOpen:a,onClose:n,onOverlay:l,onEscape:o,triggerClosing:r,onTriggerClosing:i},React.createElement(g,{onClose:i,selectedItem:c}))})),h=(0,c.memo)((()=>{const{data:{isEdit:e,products:t}}=(0,c.useContext)(i.g),{0:a,1:n}=(0,c.useState)(!1),{0:l,1:d}=(0,c.useState)(!1),{0:m,1:u}=(0,c.useState)(void 0),E=()=>{u(void 0),n(!1)},v=()=>{u(void 0),d(!1)};return React.createElement("div",{className:o.default.contentBody},React.createElement("div",{className:o.default.contentContainer},React.createElement(r.D,{products:t,isEdit:e,titleSize:"l",childrenMore:e&&React.createElement(s.S,{text:"Add product",variant:"action",size:"l",width:"content",onClick:()=>n(!0)}),editCallback:e=>{const a=t.find((t=>t.id===e));a&&(u(a),n(!0))},removeCallback:e=>{const a=t.find((t=>t.id===e));a&&(u(a),d(!0))}})),React.createElement(C,{isOpen:a,onClose:E,onOverlay:E,onEscape:E,selectedItem:m}),React.createElement(f,{isOpen:l,onClose:v,onOverlay:v,onEscape:v,selectedItem:m}))}));var w=a(247),R=a(985),S=a(4646),y=a(7767),I=a(4673);const N=(0,c.memo)((e=>React.createElement(S.A,null,React.createElement(x,e),"."))),x=(0,c.memo)((e=>{const{data:{isPremium:t},setData:a}=(0,c.useContext)(i.g),o=(0,y.Zp)();return(0,c.useEffect)((()=>{a&&a(e)}),[e]),t||o(I.S.MINI_SITE),React.createElement("main",{className:n.default.body},React.createElement(l.Y,null),React.createElement(h,null),React.createElement(w.w,null),React.createElement(R.o,null))}));var O=a(1628);var b=()=>React.createElement(N,O.dataMini)}}]);
//# sourceMappingURL=237-b122db2cfcb265cb9b53.js.map
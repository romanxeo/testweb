"use strict";(self.webpackChunkwebia_front=self.webpackChunkwebia_front||[]).push([[739],{4739:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var n=a(338),l=a(5015),o=a(8195),c=a(6540),s=a(6355),i=a(4664),m=a(8983),r=a(7859),d=a(658),u=a(5715),E=a(7145),v=a(6781);const C=(0,c.memo)((e=>{const{onClose:t,selectedItem:a}=e,{editPhotoItem:n,addPhotoItem:l}=(0,c.useContext)(i.g),{0:s,1:r}=(0,c.useState)(a?a.comment:""),{0:d,1:C}=(0,c.useState)(null==a?void 0:a.imageUrl);return c.createElement("div",{className:o.default.modalBody},c.createElement(E.W,{htmlFor:"newPhoto",value:d,onChange:C,variant:"box",label:"Upload new photo"}),c.createElement(u.w,{placeholder:"Add comment",value:s,onChange:r}),c.createElement("div",{className:o.default.modalButtonContainer},c.createElement(m.S,{text:"Cancel",variant:"outline",size:"l",width:"standard",onClick:t}),c.createElement(m.S,{text:a?"Save changes":"Add photo",variant:"action",size:"l",width:"standard",onClick:()=>{if(d){if(a)return n(a.id,{id:a.id,comment:s,imageUrl:d,date:new Date}),void t();l({id:(0,v.l)(),comment:s,imageUrl:d,date:new Date}),t()}}})))})),h=(0,c.memo)((e=>{const{className:t,isOpen:a,onClose:n,onOverlay:l,onEscape:o,selectedItem:c}=e,[s,i]=(0,d.e)(!1);return React.createElement(r.a,{className:t,title:c?c.comment:"New photo",widthSize:"xl",isOpen:a,onClose:n,onOverlay:l,onEscape:o,triggerClosing:s,onTriggerClosing:i},React.createElement(C,{onClose:i,selectedItem:c}))})),p=(0,c.memo)((e=>{const{onClose:t,selectedItem:a}=e,{removePhotoItem:n}=(0,c.useContext)(i.g);return c.createElement("div",{className:o.default.modalBody},c.createElement("div",{className:o.default.modalRemoveText},"It will be deleted permanently. But you can always add a new one."),c.createElement("div",{className:o.default.modalButtonContainer+" "+o.default.modalButtonCenter},c.createElement(m.S,{text:"Cancel",variant:"outline",size:"l",width:"standard",onClick:t}),c.createElement(m.S,{text:"Remove",variant:"action",size:"l",width:"standard",onClick:()=>{a&&(n(a.id),t())}})))})),f=(0,c.memo)((e=>{const{className:t,isOpen:a,onClose:n,onOverlay:l,onEscape:o,selectedItem:c}=e,[s,i]=(0,d.e)(!1);return React.createElement(r.a,{className:t,title:"Are you sure that you want to delete photo "+(null==c?void 0:c.comment)+"?",widthSize:"xs",isOpen:a,onClose:n,onOverlay:l,onEscape:o,triggerClosing:s,onTriggerClosing:i},React.createElement(p,{onClose:i,selectedItem:c}))})),g=(0,c.memo)((()=>{const{data:{isEdit:e,photos:t}}=(0,c.useContext)(i.g),{0:a,1:n}=(0,c.useState)(!1),{0:l,1:r}=(0,c.useState)(!1),{0:d,1:u}=(0,c.useState)(void 0),E=()=>{u(void 0),n(!1)},v=()=>{u(void 0),r(!1)};return React.createElement("div",{className:o.default.contentBody},React.createElement("div",{className:o.default.contentContainer},React.createElement(s.Z,{photos:t,isEdit:e,titleSize:"l",childrenMore:e&&React.createElement(m.S,{text:"Add photo",variant:"action",size:"l",width:"content",onClick:()=>n(!0)}),editCallback:e=>{const a=t.find((t=>t.id===e));a&&(u(a),n(!0))},removeCallback:e=>{const a=t.find((t=>t.id===e));a&&(u(a),r(!0))}})),React.createElement(h,{isOpen:a,onClose:E,onOverlay:E,onEscape:E,selectedItem:d}),React.createElement(f,{isOpen:l,onClose:v,onOverlay:v,onEscape:v,selectedItem:d}))}));var w=a(247),R=a(985),S=a(4646),y=a(7767),I=a(4673);const N=(0,c.memo)((e=>React.createElement(S.A,null,React.createElement(x,e),"."))),x=(0,c.memo)((e=>{const{data:{isPremium:t},setData:a}=(0,c.useContext)(i.g),o=(0,y.Zp)();return(0,c.useEffect)((()=>{a&&a(e)}),[e]),t||o(I.S.MINI_SITE),React.createElement("main",{className:n.default.body},React.createElement(l.Y,null),React.createElement(g,null),React.createElement(w.w,null),React.createElement(R.o,null))}));var O=a(1628);var k=()=>React.createElement(N,O.dataMini)}}]);
//# sourceMappingURL=739-e64555c24c09743bdc69.js.map
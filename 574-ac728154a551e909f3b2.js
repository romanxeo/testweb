"use strict";(self.webpackChunkwebia_front=self.webpackChunkwebia_front||[]).push([[574],{1574:function(e,t,a){a.r(t),a.d(t,{default:function(){return B}});var n=a(338),l=a(5935),o=a(8195),c=a(6540),i=a(5652),m=a(4759),s=a(3090);const r=(0,c.memo)((e=>{const{photos:t=[],isEdit:a=!1,titleSize:n="m",isBox:l=!1,childrenMore:o,editCallback:r,removeCallback:d}=e,u=t.map((e=>c.createElement(s.o,{key:e.id,imageUrl:e.imageUrl,comment:e.comment,date:e.date,isEdit:a,editCallback:()=>r(e.id),removeCallback:()=>d(e.id)})));return c.createElement(m.a,{title:"Gallery",titleSize:n,isBox:l,childrenMore:o},c.createElement("div",{className:i.A.gridList},u))}));var d=a(4664),u=a(8983),E=a(7859),v=a(658),C=a(5715),h=a(7145),p=a(6781);const g=(0,c.memo)((e=>{const{onClose:t,selectedItem:a}=e,{editPhotoItem:n,addPhotoItem:l}=(0,c.useContext)(d.g),{0:i,1:m}=(0,c.useState)(a?a.comment:""),{0:s,1:r}=(0,c.useState)(null==a?void 0:a.imageUrl);return c.createElement("div",{className:o.default.modalBody},c.createElement(h.W,{htmlFor:"newPhoto",value:s,onChange:r,variant:"box",label:"Upload new photo"}),c.createElement(C.w,{placeholder:"Add comment",value:i,onChange:m}),c.createElement("div",{className:o.default.modalButtonContainer},c.createElement(u.S,{text:"Cancel",variant:"outline",size:"l",width:"standard",onClick:t}),c.createElement(u.S,{text:a?"Save changes":"Add photo",variant:"action",size:"l",width:"standard",onClick:()=>{if(s){if(a)return n(a.id,{id:a.id,comment:i,imageUrl:s,date:new Date}),void t();l({id:(0,p.l)(),comment:i,imageUrl:s,date:new Date}),t()}}})))})),f=(0,c.memo)((e=>{const{className:t,isOpen:a,onClose:n,onOverlay:l,onEscape:o,selectedItem:c}=e,[i,m]=(0,v.e)(!1);return React.createElement(E.a,{className:t,title:c?c.comment:"New photo",widthSize:"xl",isOpen:a,onClose:n,onOverlay:l,onEscape:o,triggerClosing:i,onTriggerClosing:m},React.createElement(g,{onClose:m,selectedItem:c}))})),w=(0,c.memo)((e=>{const{onClose:t,selectedItem:a}=e,{removePhotoItem:n}=(0,c.useContext)(d.g);return c.createElement("div",{className:o.default.modalBody},c.createElement("div",{className:o.default.modalRemoveText},"It will be deleted permanently. But you can always add a new one."),c.createElement("div",{className:o.default.modalButtonContainer+" "+o.default.modalButtonCenter},c.createElement(u.S,{text:"Cancel",variant:"outline",size:"l",width:"standard",onClick:t}),c.createElement(u.S,{text:"Remove",variant:"action",size:"l",width:"standard",onClick:()=>{a&&(n(a.id),t())}})))})),R=(0,c.memo)((e=>{const{className:t,isOpen:a,onClose:n,onOverlay:l,onEscape:o,selectedItem:c}=e,[i,m]=(0,v.e)(!1);return React.createElement(E.a,{className:t,title:"Are you sure that you want to delete photo "+(null==c?void 0:c.comment)+"?",widthSize:"xs",isOpen:a,onClose:n,onOverlay:l,onEscape:o,triggerClosing:i,onTriggerClosing:m},React.createElement(w,{onClose:m,selectedItem:c}))})),S=(0,c.memo)((()=>{const{data:{isEdit:e,photos:t}}=(0,c.useContext)(d.g),{0:a,1:n}=(0,c.useState)(!1),{0:l,1:i}=(0,c.useState)(!1),{0:m,1:s}=(0,c.useState)(void 0),E=()=>{s(void 0),n(!1)},v=()=>{s(void 0),i(!1)};return React.createElement("div",{className:o.default.contentBody},React.createElement("div",{className:o.default.contentContainer},React.createElement(r,{photos:t,isEdit:e,titleSize:"l",childrenMore:e&&React.createElement(u.S,{text:"Add photo",variant:"action",size:"l",width:"content",onClick:()=>n(!0)}),editCallback:e=>{const a=t.find((t=>t.id===e));a&&(s(a),n(!0))},removeCallback:e=>{const a=t.find((t=>t.id===e));a&&(s(a),i(!0))}})),React.createElement(f,{isOpen:a,onClose:E,onOverlay:E,onEscape:E,selectedItem:m}),React.createElement(R,{isOpen:l,onClose:v,onOverlay:v,onEscape:v,selectedItem:m}))}));var y=a(247),k=a(985),x=a(4646),I=a(7767),N=a(4673);const b=(0,c.memo)((e=>React.createElement(x.A,null,React.createElement(O,e),"."))),O=(0,c.memo)((e=>{const{data:{isPremium:t},setData:a}=(0,c.useContext)(d.g),o=(0,I.Zp)();return(0,c.useEffect)((()=>{a&&a(e)}),[e]),t||o(N.S.MINI_SITE),React.createElement("main",{className:n.default.body},React.createElement(l.Y,null),React.createElement(S,null),React.createElement(y.w,null),React.createElement(k.o,null))}));var z=a(1628);var B=()=>React.createElement(b,z.dataMini)}}]);
//# sourceMappingURL=574-ac728154a551e909f3b2.js.map